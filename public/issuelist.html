<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#317EFB"/>
    <script>
        // Check that service workers are registered
        if ('serviceWorker' in navigator) {
          // Use the window load event to keep the page load performant
          window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js');
          });
        }
    </script>
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script>
        var global_mode = localStorage.getItem("mode");
    </script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-auth.js"></script>
    <link rel="stylesheet" href="normal_issuelist.css">
    <link rel="stylesheet" media="print" href="printer_issuelist.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="manifest" href="/manifest.json">
    <title>Issue List</title>
</head>

<body>
    <header class="site-header">
        <span class="site-name">MyTracker</span>
        <span>
            <img src="formatted_icon.png" alt="icon pictures" width="70">
        </span>
        <nav class="site-header-links">
            <ul>
                <li><a class="responsive-link">&nbsp;Control Menu&nbsp;</a>
                    <ul class="responsive-menu">
                        <li><a class="responsive-link">&nbsp;Control Menu&nbsp;</a></li>
                        <li><a href="./add_issue.html">Add Issues</a></li>
                        <li><a href="./edit_issues.html">Edit Issues</a></li>
                        <li><a href="./close_issues.html">Close Issues</a></li>
                        <li><a href="./delete_issues.html">Delete Issues</a></li>
                        <li><a href="./login_form.html" class="sign-out-buttom" id="sign-out-btn">Sign out</a></li>
                    </ul>
                </li>
                <li><a href="#" class="current-page flex-link">Issue list</a></li>
                <li><a class="flex-link">Manage Issues</a>
                    <ul class="manage-sub-menu">
                        <li><a>Manage Issues</a>
                            <li></li>
                            <li><a href="./add_issue.html">Add Issues</a></li>
                            <li><a href="./edit_issues.html">Edit Issues</a></li>
                            <li><a href="./close_issues.html">Close Issues</a></li>
                            <li><a href="./delete_issues.html">Delete Issues</a></li>
                    </ul>
                    </li>
                    <li><a href="login_form.html" class="sign-out-buttom flex-link" id="sign-out-btn-2">Sign out</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="mode">
            <a onclick="changeCSS('printer_issuelist.css', 1);" id="printer-sheet">Switch to Printer mode</a>
            <span>&nbsp;&nbsp;&nbsp;</span>
            <a onclick="changeCSS('normal_issuelist.css', 1);" id="normal-sheet">Switch to Normal mode</a>
            <span>&nbsp;&nbsp;&nbsp;</span>
            <a onclick="changeCSS('night_issuelist.css', 1);" id="night-sheet">Switch to Night mode</a>
            <span>&nbsp;&nbsp;&nbsp;</span>
            <a onclick="changeCSS('normal_issuelist.css', 1);" id="day-sheet">Switch to Day mode</a>
        </div>
        <div class="table-container">
            <table class="issue-table">
                <thead>
                    <tr>
                        <th>Issue Id</th>
                        <th>Issue Name</th>
                        <th>Issue Type</th>
                        <th>Issue Status</th>
                        <th>Issue Priority</th>
                        <th>Last Modify Date</th>
                    </tr>
                </thead>
                <tbody  id="issue-list-content">
                </tbody>
            </table>
        </div>
    </main>
    <footer>
        <nav>
            <a class="back-to-top" href="#top">Back to Top</a>
        </nav>
        <p id="copyright">&copy; CSE 134B Summer 2018 HW</p>
    </footer>
    <script>
        function changeCSS(cssFile, cssLinkIndex) {
            var oldlink = document.getElementsByTagName("link").item(cssLinkIndex);
            var newlink = document.createElement("link");
            newlink.setAttribute("rel", "stylesheet");
            newlink.setAttribute("type", "text/css");
            newlink.setAttribute("href", cssFile);
            document.getElementsByTagName("head").item(0).replaceChild(newlink, oldlink);
        }

        function recordID(clickID) {
            localStorage.setItem("click_id", clickID);
        }
    </script>
    <script src="read_database.js"></script>
    <script src="sign_out.js"></script>
    <noscript>
        <p>Your browser does not support JavaScript, some functionality may not able to work!</p>
    </noscript>
</body>
</html>